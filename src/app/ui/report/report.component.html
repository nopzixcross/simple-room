<div class="field is-fullwidth is-grouped">
  <div class="control">
    <div class="select is-small">
      <select name="year" [(ngModel)]="currentYear" (change)="onChangePeriod()">
        <option *ngFor="let item of periodControl.year" [value]="item">{{item+543}}</option>
      </select>
    </div>
  </div>
  <div class="control">
    <div class="select is-small">
      <select name="month" [(ngModel)]="currentMonth" (change)="onChangePeriod()">
        <option *ngFor="let item of periodControl.month;index as i" [value]="item">{{monthDes[i]}}</option>
      </select>
    </div>
  </div>
</div>

<table class="table is-responsive is-fullwidth">
  <tbody style="margin-bottom: 3rem;" *ngFor="let item of reportDetail | keyvalue">
    <tr>
      <td colspan="3"><b>{{item.key}}</b></td>
      <td style="text-align: center"><b>จำนวน</b></td>
      <td style="text-align: center"><b>ราคา</b></td>
    </tr>
    <tr>
      <td class="indent1"><b>ค่าไฟ</b></td>
      <td>&nbsp;{{monthDes[currentMonth-1]}}</td>
      <td>&nbsp;{{monthDes[currentMonth-2]}}</td>
      <td colspan="2"></td>
    </tr>
    <tr *ngFor="let item of item.value.perRoom">
      <td></td>
      <td style="text-align: center">{{item.current_electrity}}</td>
      <td style="text-align: center">{{item.lastmonth_electrity}}</td>
      <td style="text-align: right">{{item.elecUnit}} หน่วย</td>
      <td style="text-align: right">{{item.elecAmount | number}} บาท</td>
    </tr>
    <tr>
      <td colspan="5" class="indent"><b>ค่าห้อง</b></td>
    </tr>
    <ng-container *ngFor="let item of item.value.perRoom; index as i">
      <tr *ngIf="item.roomRate > 0">
        <td colspan="4" class="indent">
          &nbsp;&nbsp;&nbsp;ห้อง{{ item.roomName }}
        </td>
        <td style="text-align:right">{{item.roomRate | number}} บาท</td>
      </tr>
    </ng-container>
    <tr *ngFor="let item of item.value.perTanent">
      <td colspan="3" class="indent"><b>ค่าน้ำ</b></td>
      <td style="text-align: right">{{item.member}} คน</td>
      <td style="text-align: right">{{item.waterSupplyAmount | number}} บาท</td>
    </tr>
    <tr style="background:#dddddd">
      <td colspan="2"></td>
      <td colspan="2"><b>{{item.key}} : รวม</b></td>
      <td style="text-align: right">{{item.value.total | number}} บาท</td>
    </tr>
  </tbody>
</table>