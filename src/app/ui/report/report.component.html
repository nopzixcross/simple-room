<div class="field is-fullwidth is-grouped">
  <div class="control">
    <div class="select is-small">
      <select name="year" [(ngModel)]="currentYear" (change)="onChangePeriod()">
        <option *ngFor="let item of periodControl.year" [value]="item">{{item+543}}</option>
      </select>
    </div>
  </div>
  <div class="control">
    <div class="select is-small">
      <select name="month" [(ngModel)]="currentMonth" (change)="onChangePeriod()">
        <option *ngFor="let item of periodControl.month;index as i" [value]="item">{{monthDes[i]}}</option>
      </select>
    </div>
  </div>
</div>

<table class="table is-responsive is-fullwidth">
  <tbody style="margin-bottom: 3rem;" *ngFor="let item of reportDetail | keyvalue">
    <tr>
      <td colspan="3"><b>{{item.key}}</b></td>
      <td><b>จำนวน</b></td>
      <td><b>ราคา</b></td>
    </tr>
    <tr>
      <td style="padding-left:2.5em"><b>ค่าไฟ</b></td>
      <td>{{monthDes[currentMonth-1]}}</td>
      <td>{{monthDes[currentMonth-2]}}</td>
      <td colspan="2"></td>
    </tr>
    <tr *ngFor="let item of item.value.perRoom">
      <td></td>
      <td>{{item.current_electrity}}</td>
      <td>{{item.lastmonth_electrity}}</td>
      <td>{{item.elecUnit}} หน่วย</td>
      <td>{{item.elecAmount | number}} บาท</td>
    </tr>
    <tr *ngFor="let item of item.value.perTanent">
      <td colspan="3" style="padding-left:2.5em"><b>ค่าน้ำ</b></td>
      <td>{{item.member}} คน</td>
      <td>{{item.waterSupplyAmount | number}} บาท</td>
    </tr>
    <tr>
      <td style="padding-left:2.5rem"><b>ค่าห้อง</b></td>
      <td colspan="4"></td>
    </tr>
    <tr *ngFor="let item of item.value.perRoom; index as i">
      <td colspan="4" style="padding-left:3.5em">
        ห้อง {{ i + 1 }}
      </td>
      <td>{{item.roomRate | number}} บาท</td>
    </tr>
    <tr style="background:#dddddd">
      <td colspan="3"><b>{{item.key}}</b></td>
      <td><b>รวม</b></td>
      <td>0 บาท</td>
    </tr>
  </tbody>
</table>